!function(){var e={searchbar:null,searchable:null,hiddenClass:"searchable-row-hidden",initializeSearchbar:function(){if(this.searchbar=document.querySelector(".searchbar"),this.searchable=document.querySelector(".searchable"),this.searchbar&&this.searchable&&this.parseSearchable())for(var e=this.getSearchbarElements(),t=0;t<e.length;++t)this.processSearchbarElement(e[t])},parseSearchable:function(){var e=this.getSearchableRows();if(0===e.length)return!1;for(var t=0;t<e.length;++t)for(var r=e[t].childNodes,a=0;a<r.length;++a)this.processCell(r[a],e[t]);return!0},getSearchableRows:function(){return"TABLE"===this.searchable.tagName?this.searchable.querySelectorAll("tbody tr"):this.searchable.querySelectorAll(".searchable-row")},processCell:function(e,t){if(""!==this.getElementType(e)){var r="data-"+e.getAttribute("headers"),a=e.getAttribute("data-searchbar-value");t.setAttribute(r,a)}},getElementType:function(e){for(var t=e.className,r=["search","filter","toggle"],a=0;a<r.length;++a)if(-1!==t.indexOf(r[a]))return r[a];return""},getSearchbarElements:function(){return this.searchbar.querySelectorAll("input, select, button")},processSearchbarElement:function(e){var t="",r=0;switch(e.type){case"text":t="keyup",r=150;break;case"select-one":t="change";break;case"checkbox":case"reset":t="click"}if(t.length>0){var a="reset"!==e.type?this.debounce(this.search,r).bind(this):this.reset.bind(this);e.addEventListener(t,a)}},search:function(){var e=new Event("searchbar:beforeSearch");if(this.searchbar.dispatchEvent(e)){this.resetSearchable();for(var t=this.getSearchableRows(),r=0;r<t.length;++r){for(var a=t[r],s=!0,c=this.getSearchbarElements(),n=0;n<c.length;n++)if(s){var h=c[n],i=this.getValue(h),l=this.getAttr(h);if(l&&i&&"all"!==i){var u="text"!==h.type?this.nonTextSearch(a,l,i):this.textSearch(a,l,i);s=s&&u}}s||a.classList.add(this.hiddenClass)}this.searchbar.dispatchEvent(new Event("searchbar:afterSearch"))}},getValue:function(e){switch(e.type){case"text":return e.value;case"select-one":return e.options[e.selectedIndex].value;case"checkbox":return e.checked}return""},getAttr:function(e){var t=e.getAttribute("id");return t?"data-"+(t=t.replace(/_.*/,"")):""},nonTextSearch:function(e,t,r){return e.hasAttribute(t+"-list")?e.matches("["+t+"~="+r+"]"):e.getAttribute(t)===r},textSearch:function(e,t,r){try{var a=new RegExp(r,"i");return e.getAttribute(t).match(a)}catch(e){}},reset:function(){var e=new Event("searchbar:reset");return!this.searchbar.dispatchEvent(e)||(this.searchbar.reset(),this.resetSearchable()),!1},resetSearchable:function(){for(var e=this.getSearchableRows(),t=0;t<e.length;++t)e[t].classList.remove(this.hiddenClass)},debounce:function(e,t,r){if(0===t)return e;var a;return function(){var s=this,c=arguments,n=function(){a=null,r||e.apply(s,c)},h=r&&!a;clearTimeout(a),a=setTimeout(n,t),h&&e.apply(s,c)}}};document.addEventListener("DOMContentLoaded",function(){e.initializeSearchbar()})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaGJhci5qcyJdLCJuYW1lcyI6WyJTZWFyY2hiYXIiLCJzZWFyY2hiYXIiLCJzZWFyY2hhYmxlIiwiaGlkZGVuQ2xhc3MiLCJpbml0aWFsaXplU2VhcmNoYmFyIiwidGhpcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInBhcnNlU2VhcmNoYWJsZSIsImVsZW1lbnRzIiwiZ2V0U2VhcmNoYmFyRWxlbWVudHMiLCJpIiwibGVuZ3RoIiwicHJvY2Vzc1NlYXJjaGJhckVsZW1lbnQiLCJyb3dzIiwiZ2V0U2VhcmNoYWJsZVJvd3MiLCJjZWxscyIsImNoaWxkTm9kZXMiLCJqIiwicHJvY2Vzc0NlbGwiLCJ0YWdOYW1lIiwicXVlcnlTZWxlY3RvckFsbCIsImNlbGwiLCJyb3ciLCJnZXRFbGVtZW50VHlwZSIsImF0dHIiLCJnZXRBdHRyaWJ1dGUiLCJ2YWx1ZSIsInNldEF0dHJpYnV0ZSIsImVsZW1lbnQiLCJjbGFzc05hbWUiLCJ0eXBlcyIsImluZGV4T2YiLCJldmVudCIsIndhaXQiLCJ0eXBlIiwiZnVuYyIsImRlYm91bmNlIiwic2VhcmNoIiwiYmluZCIsInJlc2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImJlZm9yZVNlYXJjaCIsIkV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsInJlc2V0U2VhcmNoYWJsZSIsInNob3ciLCJnZXRWYWx1ZSIsImdldEF0dHIiLCJjcml0ZXJpb24iLCJub25UZXh0U2VhcmNoIiwidGV4dFNlYXJjaCIsImNsYXNzTGlzdCIsImFkZCIsIm9wdGlvbnMiLCJzZWxlY3RlZEluZGV4IiwiY2hlY2tlZCIsImlkIiwicmVwbGFjZSIsImhhc0F0dHJpYnV0ZSIsIm1hdGNoZXMiLCJwYXR0ZXJuIiwiUmVnRXhwIiwibWF0Y2giLCJlIiwiYmVmb3JlUmVzZXQiLCJyZW1vdmUiLCJpbW1lZGlhdGUiLCJ0aW1lb3V0IiwiY29udGV4dCIsImFyZ3MiLCJhcmd1bWVudHMiLCJsYXRlciIsImFwcGx5IiwiY2FsbE5vdyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0MsR0FBSUEsSUFDSEMsVUFBVyxLQUNYQyxXQUFZLEtBQ1pDLFlBQWEsd0JBRWJDLG9CQUFxQixXQVFwQixHQVBBQyxLQUFLSixVQUFZSyxTQUFTQyxjQUFjLGNBQ3hDRixLQUFLSCxXQUFhSSxTQUFTQyxjQUFjLGVBTXBDRixLQUFLSixXQUFjSSxLQUFLSCxZQVN4QkcsS0FBS0csa0JBUVYsSUFBSyxHQUREQyxHQUFXSixLQUFLSyx1QkFDWEMsRUFBSSxFQUFHQSxFQUFJRixFQUFTRyxTQUFVRCxFQUN0Q04sS0FBS1Esd0JBQXdCSixFQUFTRSxLQUl4Q0gsZ0JBQWlCLFdBQ2hCLEdBQUlNLEdBQU9ULEtBQUtVLG1CQUloQixJQUFvQixJQUFoQkQsRUFBS0YsT0FDUixPQUFPLENBT1IsS0FBSyxHQUFJRCxHQUFJLEVBQUdBLEVBQUlHLEVBQUtGLFNBQVVELEVBRWxDLElBQUssR0FEREssR0FBUUYsRUFBS0gsR0FBR00sV0FDWEMsRUFBSSxFQUFHQSxFQUFJRixFQUFNSixTQUFVTSxFQUNuQ2IsS0FBS2MsWUFBWUgsRUFBTUUsR0FBSUosRUFBS0gsR0FJbEMsUUFBTyxHQUdSSSxrQkFBbUIsV0FNbEIsTUFBbUMsVUFBNUJWLEtBQUtILFdBQVdrQixRQUNwQmYsS0FBS0gsV0FBV21CLGlCQUFpQixZQUNqQ2hCLEtBQUtILFdBQVdtQixpQkFBaUIsb0JBR3JDRixZQUFhLFNBQVNHLEVBQU1DLEdBTzNCLEdBQWEsS0FORmxCLEtBQUttQixlQUFlRixHQU1kLENBQ2hCLEdBQUlHLEdBQU8sUUFBVUgsRUFBS0ksYUFBYSxXQUNuQ0MsRUFBUUwsRUFBS0ksYUFBYSx1QkFDOUJILEdBQUlLLGFBQWFILEVBQU1FLEtBSXpCSCxlQUFnQixTQUFTSyxHQVF4QixJQUFLLEdBUERDLEdBQVlELEVBQVFDLFVBQ3BCQyxHQUFTLFNBQVUsU0FBVSxVQU14QnBCLEVBQUksRUFBR0EsRUFBSW9CLEVBQU1uQixTQUFVRCxFQUNuQyxJQUFxQyxJQUFqQ21CLEVBQVVFLFFBQVFELEVBQU1wQixJQUMzQixNQUFPb0IsR0FBTXBCLEVBT2YsT0FBTyxJQUdSRCxxQkFBc0IsV0FLckIsTUFBT0wsTUFBS0osVUFBVW9CLGlCQUFpQiwwQkFHeENSLHdCQUF5QixTQUFTZ0IsR0FDakMsR0FBSUksR0FBUSxHQUFJQyxFQUFPLENBT3ZCLFFBQVFMLEVBQVFNLE1BQ2YsSUFBSyxPQUNKRixFQUFRLFFBQ1JDLEVBQU8sR0FDUCxNQUVELEtBQUssYUFDSkQsRUFBUSxRQUNSLE1BRUQsS0FBSyxXQUlMLElBQUssUUFDSkEsRUFBUSxRQUlWLEdBQUlBLEVBQU1yQixPQUFTLEVBQUcsQ0FNckIsR0FBSXdCLEdBQXdCLFVBQWpCUCxFQUFRTSxLQUNoQjlCLEtBQUtnQyxTQUFTaEMsS0FBS2lDLE9BQVFKLEdBQU1LLEtBQUtsQyxNQUN0Q0EsS0FBS21DLE1BQU1ELEtBQUtsQyxLQUVuQndCLEdBQVFZLGlCQUFpQlIsRUFBT0csS0FJbENFLE9BQVEsV0FDUCxHQUFJSSxHQUFlLEdBQUlDLE9BQU0seUJBRTdCLElBRGlCdEMsS0FBS0osVUFBVTJDLGNBQWNGLEdBQzlDLENBU0FyQyxLQUFLd0MsaUJBRUwsS0FBSyxHQUREL0IsR0FBT1QsS0FBS1Usb0JBQ1BKLEVBQUksRUFBR0EsRUFBSUcsRUFBS0YsU0FBVUQsRUFBRyxDQVFyQyxJQUFLLEdBUERZLEdBQU1ULEVBQUtILEdBQUltQyxHQUFPLEVBTXRCckMsRUFBV0osS0FBS0ssdUJBQ1hRLEVBQUksRUFBR0EsRUFBSVQsRUFBU0csT0FBUU0sSUFDcEMsR0FBSzRCLEVBQUwsQ0FTQSxHQUFJakIsR0FBVXBCLEVBQVNTLEdBQ25CUyxFQUFRdEIsS0FBSzBDLFNBQVNsQixHQUN0QkosRUFBT3BCLEtBQUsyQyxRQUFRbkIsRUFPeEIsSUFBS0osR0FBU0UsR0FBbUIsUUFBVkEsRUFBdkIsQ0FJQSxHQUFJc0IsR0FBNkIsU0FBakJwQixFQUFRTSxLQUNyQjlCLEtBQUs2QyxjQUFjM0IsRUFBS0UsRUFBTUUsR0FDOUJ0QixLQUFLOEMsV0FBVzVCLEVBQUtFLEVBQU1FLEVBRTlCbUIsR0FBT0EsR0FBUUcsR0FHWEgsR0FLSnZCLEVBQUk2QixVQUFVQyxJQUFJaEQsS0FBS0YsYUFJekJFLEtBQUtKLFVBQVUyQyxjQUFjLEdBQUlELE9BQU0sNEJBR3hDSSxTQUFVLFNBQVNsQixHQVFsQixPQUFRQSxFQUFRTSxNQUNmLElBQUssT0FDSixNQUFPTixHQUFRRixLQUVoQixLQUFLLGFBQ0osTUFBT0UsR0FBUXlCLFFBQVF6QixFQUFRMEIsZUFBZTVCLEtBRS9DLEtBQUssV0FDSixNQUFPRSxHQUFRMkIsUUFHakIsTUFBTyxJQUdSUixRQUFTLFNBQVNuQixHQU1qQixHQUFJNEIsR0FBSzVCLEVBQVFILGFBQWEsS0FFOUIsT0FBSStCLEdBZ0JHLFNBUk5BLEVBQUtBLEVBQUdDLFFBQVEsTUFBTyxLQUVoQixJQVNUUixjQUFlLFNBQVMzQixFQUFLRSxFQUFNRSxHQU1sQyxNQUFPSixHQUFJb0MsYUFBYWxDLEVBQU8sU0FDNUJGLEVBQUlxQyxRQUFRLElBQU1uQyxFQUFPLEtBQU9FLEVBQVEsS0FDeENKLEVBQUlHLGFBQWFELEtBQVVFLEdBRy9Cd0IsV0FBWSxTQUFTNUIsRUFBS0UsRUFBTUUsR0FRL0IsSUFDQyxHQUFJa0MsR0FBVSxHQUFJQyxRQUFPbkMsRUFBTyxJQUNoQyxPQUFPSixHQUFJRyxhQUFhRCxHQUFNc0MsTUFBTUYsR0FDbkMsTUFBT0csTUFTVnhCLE1BQU8sV0FDTixHQUFJeUIsR0FBYyxHQUFJdEIsT0FBTSxrQkFZNUIsUUFYaUJ0QyxLQUFLSixVQUFVMkMsY0FBY3FCLEtBTzdDNUQsS0FBS0osVUFBVXVDLFFBQ2ZuQyxLQUFLd0Msb0JBR0MsR0FHUkEsZ0JBQWlCLFdBTWhCLElBQUssR0FMRC9CLEdBQU9ULEtBQUtVLG9CQUtQSixFQUFJLEVBQUdBLEVBQUlHLEVBQUtGLFNBQVVELEVBQ2xDRyxFQUFLSCxHQUFHeUMsVUFBVWMsT0FBTzdELEtBQUtGLGNBSWhDa0MsU0FBVSxTQUFTRCxFQUFNRixFQUFNaUMsR0FDOUIsR0FBYSxJQUFUakMsRUFDSCxNQUFPRSxFQUtSLElBQUlnQyxFQUNKLE9BQU8sWUFDTixHQUFJQyxHQUFVaEUsS0FBTWlFLEVBQU9DLFVBQ3ZCQyxFQUFRLFdBQ1hKLEVBQVUsS0FDTEQsR0FBVy9CLEVBQUtxQyxNQUFNSixFQUFTQyxJQUVqQ0ksRUFBVVAsSUFBY0MsQ0FDNUJPLGNBQWFQLEdBQ2JBLEVBQVVRLFdBQVdKLEVBQU90QyxHQUN4QndDLEdBQVN0QyxFQUFLcUMsTUFBTUosRUFBU0MsS0FLcENoRSxVQUFTbUMsaUJBQWlCLG1CQUFvQixXQUM3Q3pDLEVBQVVJIiwiZmlsZSI6InNlYXJjaGJhci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XHJcblx0dmFyIFNlYXJjaGJhciA9IHtcclxuXHRcdHNlYXJjaGJhcjogbnVsbCxcclxuXHRcdHNlYXJjaGFibGU6IG51bGwsXHJcblx0XHRoaWRkZW5DbGFzczogXCJzZWFyY2hhYmxlLXJvdy1oaWRkZW5cIixcclxuXHJcblx0XHRpbml0aWFsaXplU2VhcmNoYmFyOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dGhpcy5zZWFyY2hiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaGJhclwiKTtcclxuXHRcdFx0dGhpcy5zZWFyY2hhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2hhYmxlXCIpO1xyXG5cclxuXHRcdFx0Ly8gdG8gaGF2ZSBhIHNlYXJjaGJhciwgd2UgbmVlZCBib3RoIHRoZSBzZWFyY2hiYXIgZWxlbWVudCBhbmRcclxuXHRcdFx0Ly8gdGhlIHNlYXJjaGFibGUgZGF0YSBzZXQuICB3aXRob3V0IHRob3NlLCB3ZSBjYW4gc2ltcGx5IHF1aXRcclxuXHRcdFx0Ly8gYmVjYXVzZSwgY2xlYXJseSwgdGhpcyBwYWdlIGRvZXNuJ3QgbmVlZCB0aGlzIGZ1bmN0aW9uYWxpdHkuXHJcblxyXG5cdFx0XHRpZiAoIXRoaXMuc2VhcmNoYmFyIHx8ICF0aGlzLnNlYXJjaGFibGUpIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIG5vdyB0aGF0IHdlIGtub3cgd2UgaGF2ZSB0aG9zZSwgd2UgY2FuIHBhcnNlIHRoZSBzZWFyY2hhYmxlXHJcblx0XHRcdC8vIGRhdGEgc2V0IHRvIHByZXBhcmUgaXQgZm9yIHVzZS4gIGl0J3MgcG9zc2libGUgdGhhdCB0aGlzIG1ldGhvZFxyXG5cdFx0XHQvLyByZXR1cm5zIGZhbHNlIHdoZW4gdGhlcmUgYXJlIG5vdyByb3dzIHdpdGhpbiB0aGUgc2V0IHRvIHdvcmtcclxuXHRcdFx0Ly8gd2l0aC5cclxuXHJcblx0XHRcdGlmICghdGhpcy5wYXJzZVNlYXJjaGFibGUoKSkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZmluYWxseSwgb3VyIHNlYXJjaGFibGUgZGF0YSBzZXQgaXMgcmVhZHkgdG8gZ28uICBub3csIHdlIGNhblxyXG5cdFx0XHQvLyBob29rIHVwIGV2ZW50cyB0byBvdXIgc2VhcmNoYmFyLlxyXG5cclxuXHRcdFx0dmFyIGVsZW1lbnRzID0gdGhpcy5nZXRTZWFyY2hiYXJFbGVtZW50cygpO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgKytpKSB7XHJcblx0XHRcdFx0dGhpcy5wcm9jZXNzU2VhcmNoYmFyRWxlbWVudChlbGVtZW50c1tpXSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0cGFyc2VTZWFyY2hhYmxlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHJvd3MgPSB0aGlzLmdldFNlYXJjaGFibGVSb3dzKCk7XHJcblxyXG5cdFx0XHQvLyBpZiB3ZSBkb24ndCBoYXZlIHJvd3MsIHRoZW4gd2UgY2FuIHF1aXQuXHJcblxyXG5cdFx0XHRpZiAocm93cy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIG90aGVyd2lzZSwgZm9yIHRoZSBjaGlsZHJlbiBvZiBvdXIgcm93cyAtLSB3aGljaCBhcmUgbGlrZWx5XHJcblx0XHRcdC8vIHRhYmxlIGNlbGxzLCBidXQgY291bGQgYmUgc29tZXRoaW5nIGVsc2UgLS0gd2Ugd2FudCB0byBwcm9jZXNzXHJcblx0XHRcdC8vIHRoZW0gaW5kaXZpZHVhbGx5IHdpdGggdGhlIG1ldGhvZCBiZWxvdy5cclxuXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7ICsraSkge1xyXG5cdFx0XHRcdHZhciBjZWxscyA9IHJvd3NbaV0uY2hpbGROb2RlcztcclxuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNlbGxzLmxlbmd0aDsgKytqKSB7XHJcblx0XHRcdFx0XHR0aGlzLnByb2Nlc3NDZWxsKGNlbGxzW2pdLCByb3dzW2ldKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSxcclxuXHJcblx0XHRnZXRTZWFyY2hhYmxlUm93czogZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHQvLyBpZiBvdXIgc2VhcmNoYWJsZSBlbGVtZW50IGlzIGEgdGFibGUsIHRoZW4gd2Ugd2FudCB0byB1c2VcclxuXHRcdFx0Ly8gdGhlIGl0cyBib2R5IHJvd3M7IG90aGVyd2lzZSwgd2UncmUgZ29pbmcgdG8gaG9wZSB0aGF0IG91clxyXG5cdFx0XHQvLyByb3dzIGFyZSBtYXJrZWQgd2l0aCB0aGUgYXBwcm9wcmlhdGUgY2xhc3MgbmFtZS5cclxuXHJcblx0XHRcdHJldHVybiB0aGlzLnNlYXJjaGFibGUudGFnTmFtZSA9PT0gXCJUQUJMRVwiXHJcblx0XHRcdFx0PyB0aGlzLnNlYXJjaGFibGUucXVlcnlTZWxlY3RvckFsbChcInRib2R5IHRyXCIpXHJcblx0XHRcdFx0OiB0aGlzLnNlYXJjaGFibGUucXVlcnlTZWxlY3RvckFsbChcIi5zZWFyY2hhYmxlLXJvd1wiKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0cHJvY2Vzc0NlbGw6IGZ1bmN0aW9uKGNlbGwsIHJvdykge1xyXG5cdFx0XHR2YXIgdHlwZSA9IHRoaXMuZ2V0RWxlbWVudFR5cGUoY2VsbCk7XHJcblxyXG5cdFx0XHQvLyB0byBwcm9jZXNzIGEgY2VsbCwgd2Ugd2FudCB0byBhZGQgSFRNTDUgZGF0YSBhdHRyaWJ1dGVzXHJcblx0XHRcdC8vIHRoYXQgY29ycmVzcG9uZCB0byBpbmZvcm1hdGlvbiBleHRyYWN0ZWQgZnJvbSB0aGUgY2VsbCBpdHNlbGZcclxuXHRcdFx0Ly8gdG8gdGhlIHNwZWNpZmllZCByb3cuXHJcblxyXG5cdFx0XHRpZiAodHlwZSAhPT0gXCJcIikge1xyXG5cdFx0XHRcdHZhciBhdHRyID0gXCJkYXRhLVwiICsgY2VsbC5nZXRBdHRyaWJ1dGUoXCJoZWFkZXJzXCIpO1xyXG5cdFx0XHRcdHZhciB2YWx1ZSA9IGNlbGwuZ2V0QXR0cmlidXRlKFwiZGF0YS1zZWFyY2hiYXItdmFsdWVcIik7XHJcblx0XHRcdFx0cm93LnNldEF0dHJpYnV0ZShhdHRyLCB2YWx1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0Z2V0RWxlbWVudFR5cGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuXHRcdFx0dmFyIGNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lO1xyXG5cdFx0XHR2YXIgdHlwZXMgPSBbXCJzZWFyY2hcIiwgXCJmaWx0ZXJcIiwgXCJ0b2dnbGVcIl07XHJcblxyXG5cdFx0XHQvLyB0aGUgdHlwZXMgYXJyYXkgYXJlIG91ciBlbGVtZW50IHR5cGVzLiAgaWYgd2UgZmluZCBhbnkgb2ZcclxuXHRcdFx0Ly8gdGhvc2UgaW4gdGhlIGNsYXNzIG5hbWVzIGZvciBvdXIgZWxlbWVudCwgdGhlbiBpdCdzIG9mIHRoYXRcclxuXHRcdFx0Ly8gdHlwZSBhbmQgd2UgcmV0dXJuIGl0LlxyXG5cclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7ICsraSkge1xyXG5cdFx0XHRcdGlmIChjbGFzc05hbWUuaW5kZXhPZih0eXBlc1tpXSkgIT09IC0xKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdHlwZXNbaV07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBvdGhlcndpc2UsIHdlJ2xsIHJldHVybiB0aGUgZW1wdHkgc3RyaW5nLiAgdGhlIGNhbGxpbmcgc2NvcGVcclxuXHRcdFx0Ly8gd2lsbCBrbm93IHRoaXMgbWVhbnMgdGhhdCB3ZSdyZSBhIGZhaWx1cmUuXHJcblxyXG5cdFx0XHRyZXR1cm4gXCJcIjtcclxuXHRcdH0sXHJcblxyXG5cdFx0Z2V0U2VhcmNoYmFyRWxlbWVudHM6IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0Ly8gb3VyIHNlYXJjaGJhciB1c2VzIHRoZXNlIEhUTUwgZWxlbWVudHMgYXQgdGhlIG1vbWVudC4gIGlmIHdlXHJcblx0XHRcdC8vIGFkIG1vcmUsIHdlJ2xsIG5lZWQgdG8gdXBkYXRlIHRoaXMgbGlzdC5cclxuXHJcblx0XHRcdHJldHVybiB0aGlzLnNlYXJjaGJhci5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXQsIHNlbGVjdCwgYnV0dG9uXCIpO1xyXG5cdFx0fSxcclxuXHJcblx0XHRwcm9jZXNzU2VhcmNoYmFyRWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCkge1xyXG5cdFx0XHR2YXIgZXZlbnQgPSBcIlwiLCB3YWl0ID0gMDtcclxuXHJcblx0XHRcdC8vIHRoZSBldmVudCB3ZSB3YW50IHRvIHVzZSBpcyBiYXNlZCBvbiB0aGUgdHlwZSBvZiBlbGVtZW50IHRoYXRcclxuXHRcdFx0Ly8gd2UncmUgd29ya2luZyB3aXRoLiAgbW9zdCBvZiBvdXIgZXZlbnRzIGRvbid0IG5lZWQgdG8gYmVcclxuXHRcdFx0Ly8gZGVib3VuY2VkLCBidXQgaWYgd2UgcnVuIGludG8gb25lIHRoYXQgZG9lcywgd2UgY2FuIHNldCBvdXJcclxuXHRcdFx0Ly8gd2FpdCB2YXJpYWJsZSB0byBzb21ldGhpbmcgb3RoZXIgdGhhbiB6ZXJvLlxyXG5cclxuXHRcdFx0c3dpdGNoIChlbGVtZW50LnR5cGUpIHtcclxuXHRcdFx0XHRjYXNlIFwidGV4dFwiOlxyXG5cdFx0XHRcdFx0ZXZlbnQgPSBcImtleXVwXCI7XHJcblx0XHRcdFx0XHR3YWl0ID0gMTUwO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdGNhc2UgXCJzZWxlY3Qtb25lXCI6XHJcblx0XHRcdFx0XHRldmVudCA9IFwiY2hhbmdlXCI7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0Y2FzZSBcImNoZWNrYm94XCI6XHJcblx0XHRcdFx0XHRldmVudCA9IFwiY2xpY2tcIjtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIFwicmVzZXRcIjpcclxuXHRcdFx0XHRcdGV2ZW50ID0gXCJjbGlja1wiO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChldmVudC5sZW5ndGggPiAwKSB7XHJcblxyXG5cdFx0XHRcdC8vIGlmIHdlIGlkZW50aWZpZWQgYW4gZXZlbnQgdG8gbGlzdGVuIGZvciwgd2UnbGwgbm93IGlkZW50aWZ5XHJcblx0XHRcdFx0Ly8gd2hpY2ggZnVuY3Rpb24gdG8gY2FsbC4gIGlmIHdlJ3JlIG5vdCBtZXNzaW5nIHdpdGggdGhlIHJlc2V0XHJcblx0XHRcdFx0Ly8gZWxlbWVudCwgd2Ugc2VhcmNoOyBvdGhlcndpc2Ugd2UgcmVzZXQuXHJcblxyXG5cdFx0XHRcdHZhciBmdW5jID0gZWxlbWVudC50eXBlICE9PSBcInJlc2V0XCJcclxuXHRcdFx0XHRcdD8gdGhpcy5kZWJvdW5jZSh0aGlzLnNlYXJjaCwgd2FpdCkuYmluZCh0aGlzKVxyXG5cdFx0XHRcdFx0OiB0aGlzLnJlc2V0LmJpbmQodGhpcyk7XHJcblxyXG5cdFx0XHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZnVuYyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0c2VhcmNoOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIGJlZm9yZVNlYXJjaCA9IG5ldyBFdmVudChcInNlYXJjaGJhcjpiZWZvcmVTZWFyY2hcIik7XHJcblx0XHRcdHZhciBjYW5jZWxsZWQgPSAhdGhpcy5zZWFyY2hiYXIuZGlzcGF0Y2hFdmVudChiZWZvcmVTZWFyY2gpO1xyXG5cdFx0XHRpZiAoY2FuY2VsbGVkKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBhc3N1bWluZyBzb21ldGhpbmcgZWxzZSBkaWRuJ3QgY2FuY2VsIG91ciBzZWFyY2gsIHRoZSBmaXJzdFxyXG5cdFx0XHQvLyB0aGluZyB3ZSBkbyBpcyByZXNldCBvdXIgdGFibGUuICB0aGF0IHdheSwgd2Uga25vdyB0aGF0IHdlXHJcblx0XHRcdC8vIHN0YXJ0IHdpdGggdGhlIGVudGlyZSB0aGluZyB2aXNpYmxlIGFuZCB3ZSdsbCBmaW5kIHRoZSBvbmVzXHJcblx0XHRcdC8vIHRoYXQgbmVlZCB0byBiZSBoaWRkZW4gYmVsb3cuXHJcblxyXG5cdFx0XHR0aGlzLnJlc2V0U2VhcmNoYWJsZSgpO1xyXG5cdFx0XHR2YXIgcm93cyA9IHRoaXMuZ2V0U2VhcmNoYWJsZVJvd3MoKTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgKytpKSB7XHJcblx0XHRcdFx0dmFyIHJvdyA9IHJvd3NbaV0sIHNob3cgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHQvLyBmb3IgZWFjaCByb3csIHdlIG5lZWQgdG8gY29tcGFyZSB0aGUgaW5mb3JtYXRpb24gaW4gdGhlXHJcblx0XHRcdFx0Ly8gSFRNTDUgZGF0YSBhdHRyaWJ1dGVzIGFkZGVkIGJ5IHRoZSBwYXJzZVNlYXJjaGFibGUoKSBtZXRob2RcclxuXHRcdFx0XHQvLyBhYm92ZSBhZ2FpbnN0IHRoZSB2YWx1ZXMgaW4gb3VyIHNlYXJjaGJhciBlbGVtZW50cy5cclxuXHJcblx0XHRcdFx0dmFyIGVsZW1lbnRzID0gdGhpcy5nZXRTZWFyY2hiYXJFbGVtZW50cygpO1xyXG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZWxlbWVudHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGlmICghc2hvdykge1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gd2UgdXNlIEFORCBsb2dpYyBoZXJlLiAgdGhlIGZpcnN0IHRoaW5nIHRoYXQgd291bGRcclxuXHRcdFx0XHRcdFx0Ly8gaGlkZSBvdXIgcm93IG1lYW5zIHRoZSByb3cgaXMgaGlkZGVuIGFuZCB3ZSBjYW5cclxuXHRcdFx0XHRcdFx0Ly8gc2tpcCBhbGwgb3RoZXIgY3JpdGVyaW9uLlxyXG5cclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBlbGVtZW50c1tqXTtcclxuXHRcdFx0XHRcdHZhciB2YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoZWxlbWVudCk7XHJcblx0XHRcdFx0XHR2YXIgYXR0ciA9IHRoaXMuZ2V0QXR0cihlbGVtZW50KTtcclxuXHJcblx0XHRcdFx0XHQvLyBpZiB3ZSBkb24ndCBoYXZlIGFuIGF0dHJpYnV0ZSBvciB2YWx1ZSBvciBpZiB0aGUgdmFsdWVcclxuXHRcdFx0XHRcdC8vIHdlIGRvIGhhdmUgaW5kaWNhdGVzIHRoYXQgd2Ugc2hvdWxkIGJlIHNob3dpbmcgYWxsIG9mXHJcblx0XHRcdFx0XHQvLyBvdXIgcm93cywgd2UgY2FuIHNpbXBseSBtb3ZlIG9uOyB0aGlzIGNyaXRlcmlhIGlzLFxyXG5cdFx0XHRcdFx0Ly8gZWZmZWN0aXZlbHksIGFsd2F5cyBtZXQuXHJcblxyXG5cdFx0XHRcdFx0aWYgKCFhdHRyIHx8ICF2YWx1ZSB8fCB2YWx1ZSA9PT0gXCJhbGxcIikge1xyXG5cdFx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR2YXIgY3JpdGVyaW9uID0gZWxlbWVudC50eXBlICE9PSBcInRleHRcIlxyXG5cdFx0XHRcdFx0XHQ/IHRoaXMubm9uVGV4dFNlYXJjaChyb3csIGF0dHIsIHZhbHVlKVxyXG5cdFx0XHRcdFx0XHQ6IHRoaXMudGV4dFNlYXJjaChyb3csIGF0dHIsIHZhbHVlKTtcclxuXHJcblx0XHRcdFx0XHRzaG93ID0gc2hvdyAmJiBjcml0ZXJpb247XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoIXNob3cpIHtcclxuXHJcblx0XHRcdFx0XHQvLyBmaW5hbGx5LCBpZiB0aGlzIHJvdyBzaG91bGQgbm90IGJlIHNob3duLCB0aGVuIHdlIGFkZFxyXG5cdFx0XHRcdFx0Ly8gdGhlIGhpZGRlbiBjbGFzcyB0byBpdC5cclxuXHJcblx0XHRcdFx0XHRyb3cuY2xhc3NMaXN0LmFkZCh0aGlzLmhpZGRlbkNsYXNzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuc2VhcmNoYmFyLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwic2VhcmNoYmFyOmFmdGVyU2VhcmNoXCIpKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Z2V0VmFsdWU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuXHJcblx0XHRcdC8vIHRleHQsIHNlbGVjdHMsIGFuZCBjaGVja2JveGVzIGFsbCB3b3JrIGRpZmZlcmVudGx5IHdpdGhcclxuXHRcdFx0Ly8gcmVzcGVjdCB0byB3aGF0IHdlIGNvbnNpZGVyIG91ciBcInZhbHVlXCIgZm9yIHNlYXJjaGluZ1xyXG5cdFx0XHQvLyBwdXJwb3Nlcy4gIHRoaXMgc3dpdGNoIHN0YXRlbWVudCBtaXhlcyB0aGluZ3MgdXAgYW5kXHJcblx0XHRcdC8vIGdyYWJzIG9ubHkgd2hhdCB3ZSBuZWVkIGR1cmluZyBvdXIgc2VhcmNoIGFib3ZlIHRvIG1ha2VcclxuXHRcdFx0Ly8gdGhpbmdzIGhhcHBlbi5cclxuXHJcblx0XHRcdHN3aXRjaCAoZWxlbWVudC50eXBlKSB7XHJcblx0XHRcdFx0Y2FzZSBcInRleHRcIjpcclxuXHRcdFx0XHRcdHJldHVybiBlbGVtZW50LnZhbHVlO1xyXG5cclxuXHRcdFx0XHRjYXNlIFwic2VsZWN0LW9uZVwiOlxyXG5cdFx0XHRcdFx0cmV0dXJuIGVsZW1lbnQub3B0aW9uc1tlbGVtZW50LnNlbGVjdGVkSW5kZXhdLnZhbHVlO1xyXG5cclxuXHRcdFx0XHRjYXNlIFwiY2hlY2tib3hcIjpcclxuXHRcdFx0XHRcdHJldHVybiBlbGVtZW50LmNoZWNrZWQ7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBcIlwiO1xyXG5cdFx0fSxcclxuXHJcblx0XHRnZXRBdHRyOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcblxyXG5cdFx0XHQvLyB0aGUgSFRNTDUgZGF0YSBlbGVtZW50cyB0aGF0IHBhcnNlU2VhcmNoYWJsZSgpIGNyZWF0ZXNcclxuXHRcdFx0Ly8gYXJlIGRhdGEtW2lkXSB3aGVyZSB0aGUgaWQgaXMgdGhlIHZhbHVlIG9mIG91ciBlbGVtZW50J3NcclxuXHRcdFx0Ly8gSUQgYXR0cmlidXRlLlxyXG5cclxuXHRcdFx0dmFyIGlkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcclxuXHJcblx0XHRcdGlmIChpZCkge1xyXG5cclxuXHRcdFx0XHQvLyBpZiB3ZSBoYXZlIGFuIElELCB0aGVuIHdlIG5lZWQgdG8gcmVtb3ZlIGV2ZXJ5dGhpbmdcclxuXHRcdFx0XHQvLyBhZnRlciB0aGUgdW5kZXJzY29yZSwgaW5jbHVkaW5nIHRoZSB1bmRlcnNjb3JlLiAgd2VcclxuXHRcdFx0XHQvLyBleHBlY3Qgb3VyIElEcyBmb3Igc2VhcmNoaW5nIGVsZW1lbnRzIHRvIGJlIGluIHRoZVxyXG5cdFx0XHRcdC8vIGZvcm0gb2YgW2lkXV9bdHlwZV0sIHNvIHRoaXMgc2ltcGx5IGxlYXZlcyB1cyB3aXRoXHJcblx0XHRcdFx0Ly8gdGhlIGlkLlxyXG5cclxuXHRcdFx0XHRpZCA9IGlkLnJlcGxhY2UoL18uKi8sIFwiXCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBcIlwiO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBzdGlsbCBoZXJlPyAgdGhlbiB3ZSBjYW4gY29uc3RydWN0IHRoZSBvdXIgZGF0YVxyXG5cdFx0XHQvLyBhdHRyaWJ1dGUgdXNpbmcgdGhlIElEIHdlJ3JlIGxlZnQgd2l0aC5cclxuXHJcblx0XHRcdHJldHVybiBcImRhdGEtXCIgKyBpZDtcclxuXHRcdH0sXHJcblxyXG5cdFx0bm9uVGV4dFNlYXJjaDogZnVuY3Rpb24ocm93LCBhdHRyLCB2YWx1ZSkge1xyXG5cclxuXHRcdFx0Ly8gaWYgb3VyIHJvdyBoYXMgYSBsaXN0IGZsYWcgZm9yIHRoaXMgYXR0cmlidXRlLCB0aGVuIHdlXHJcblx0XHRcdC8vIHdhbnQgdG8gc2VlIGlmIG91ciBhdHRyaWJ1dGUgY29udGFpbnMgdGhlIHZhbHVlLiAgb3RoZXJ3aXNlLFxyXG5cdFx0XHQvLyB3ZSBjaGVjayB0byBzZWUgdGhlIGF0dHJpYnV0ZSBtYXRjaGVzIGl0LlxyXG5cclxuXHRcdFx0cmV0dXJuIHJvdy5oYXNBdHRyaWJ1dGUoYXR0ciArIFwiLWxpc3RcIilcclxuXHRcdFx0XHQ/IHJvdy5tYXRjaGVzKFwiW1wiICsgYXR0ciArIFwifj1cIiArIHZhbHVlICsgXCJdXCIpXHJcblx0XHRcdFx0OiByb3cuZ2V0QXR0cmlidXRlKGF0dHIpID09PSB2YWx1ZTtcclxuXHRcdH0sXHJcblxyXG5cdFx0dGV4dFNlYXJjaDogZnVuY3Rpb24ocm93LCBhdHRyLCB2YWx1ZSkge1xyXG5cclxuXHRcdFx0Ly8gZm9yIHRleHQgc2VhcmNoZXMsIHdlIGNvbnN0cnVjdCBhIHJlZ2V4IGZyb20gdGhlIHZhbHVlIG9mXHJcblx0XHRcdC8vIG91ciBzZWFyY2ggZmllbGQgYW5kIHNlZSBpZiB0aGlzIHJvdyBtYXRjaGVzIGl0LiAgd2UgcHV0XHJcblx0XHRcdC8vIHRoaXMgYWxsIGluc2lkZSBhIHRyeS9jYXRjaCBibG9jayBiZWNhdXNlIGl0J3MgcG9zc2libGUgdG9cclxuXHRcdFx0Ly8gY3JlYXRlIGEgdmFsdWUgdGhhdCBjYW4ndCBiZSBhIHJlZ2V4LCBhbmQgdGhlbiBhbiBleGNlcHRpb25cclxuXHRcdFx0Ly8gaXMgdGhyb3duLlxyXG5cclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHR2YXIgcGF0dGVybiA9IG5ldyBSZWdFeHAodmFsdWUsIFwiaVwiKTtcclxuXHRcdFx0XHRyZXR1cm4gcm93LmdldEF0dHJpYnV0ZShhdHRyKS5tYXRjaChwYXR0ZXJuKTtcclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cclxuXHRcdFx0XHQvLyBpZiB3ZSBjYXRjaCBvdXIgZXhjZXB0aW9uLCB3ZSBkbyBub3RoaW5nLiAgd2VcclxuXHRcdFx0XHQvLyBjb3VsZCBhZGQgYSByZXR1cm4gc3RhdGVtZW50IGhlcmUsIGJ1dCBpdCdzIHRoZVxyXG5cdFx0XHRcdC8vIGVuZCBvZiB0aGUgZnVuY3Rpb24gYWxyZWFkeS5cclxuXHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0cmVzZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgYmVmb3JlUmVzZXQgPSBuZXcgRXZlbnQoXCJzZWFyY2hiYXI6cmVzZXRcIik7XHJcblx0XHRcdHZhciBjYW5jZWxsZWQgPSAhdGhpcy5zZWFyY2hiYXIuZGlzcGF0Y2hFdmVudChiZWZvcmVSZXNldCk7XHJcblxyXG5cdFx0XHRpZiAoIWNhbmNlbGxlZCkge1xyXG5cclxuXHRcdFx0XHQvLyBpZiBubyBvbmUgY2FuY2VsbGVkIG91ciByZXNldCwgdGhlbiB3ZSBqdXN0IHJlc2V0IHRoZVxyXG5cdFx0XHRcdC8vIHNlYXJjaGJhciBmb3JtIGFuZCBvdXIgc2VhcmNoYWJsZSBkYXRhIHNldC5cclxuXHJcblx0XHRcdFx0dGhpcy5zZWFyY2hiYXIucmVzZXQoKTtcclxuXHRcdFx0XHR0aGlzLnJlc2V0U2VhcmNoYWJsZSgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9LFxyXG5cclxuXHRcdHJlc2V0U2VhcmNoYWJsZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciByb3dzID0gdGhpcy5nZXRTZWFyY2hhYmxlUm93cygpO1xyXG5cclxuXHRcdFx0Ly8gcmVzZXR0aW5nIG91ciBkYXRhIHNldCBpcyBzaW1wbGU6ICB3ZSBqdXN0IHJlbW92ZSB0aGUgaGlkZGVuXHJcblx0XHRcdC8vIGNsYXNzIGZyb20gYWxsIHJvd3MuXHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyArK2kpIHtcclxuXHRcdFx0XHRyb3dzW2ldLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5oaWRkZW5DbGFzcyk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0ZGVib3VuY2U6IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xyXG5cdFx0XHRpZiAod2FpdCA9PT0gMCkge1xyXG5cdFx0XHRcdHJldHVybiBmdW5jO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBzb3VyY2U6IGh0dHBzOi8vZGF2aWR3YWxzaC5uYW1lL2phdmFzY3JpcHQtZGVib3VuY2UtZnVuY3Rpb25cclxuXHJcblx0XHRcdHZhciB0aW1lb3V0O1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0dmFyIGNvbnRleHQgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzO1xyXG5cdFx0XHRcdHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0dGltZW91dCA9IG51bGw7XHJcblx0XHRcdFx0XHRpZiAoIWltbWVkaWF0ZSkgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xyXG5cdFx0XHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcclxuXHRcdFx0XHR0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XHJcblx0XHRcdFx0aWYgKGNhbGxOb3cpIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24oKSB7XHJcblx0XHRTZWFyY2hiYXIuaW5pdGlhbGl6ZVNlYXJjaGJhcigpO1xyXG5cdH0pO1xyXG5cclxufSkoKTtcclxuIl19
